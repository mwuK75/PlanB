<script>
    // ログイン処理の実装（サーバー通信版）
    async function handleLogin(event) {
        event.preventDefault();
        
        const emailInput = document.getElementById('email').value;
        const passwordInput = document.getElementById('password').value;

        if (!emailInput || !passwordInput) {
            alert('メールアドレスとパスワードを入力してください');
            return;
        }

        try {
            // サーバーのAPIにデータを送信 (POST)
            // 参考: https://zenn.dev/ojk/books/intro-to-server/viewer/server-post
            const response = await fetch("/api/login", {
                method: "POST",
                headers: {
                    "Content-Type": "application/json"
                },
                body: JSON.stringify({
                    email: emailInput,
                    password: passwordInput
                })
            });

            // サーバーからの結果を受け取る
            const result = await response.json();

            if (result.success) {
                console.log('認証成功');
                // ホーム画面へ遷移
                window.location.href = 'home.html';
            } else {
                console.log('認証失敗');
                alert('メールアドレスまたはパスワードが間違っています。');
            }

        } catch (error) {
            console.error("通信エラー:", error);
            alert("サーバーとの通信に失敗しました。");
        }
    }

    function goToSignup() {
        window.location.href = 'signup.html';
    }
</script>